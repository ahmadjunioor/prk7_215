<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create API Key [MODERN]</title>
    <style>
        /* --- 1. Pengaturan Global & Latar Belakang (Modern) --- */
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            /* Font Sans-serif modern */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f7f9fc; /* Latar belakang sangat terang/putih kebiruan */
            color: #333333; /* Teks abu-abu gelap */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            line-height: 1.6;
        }

        /* --- 2. Kotak Utama (Kartu) - Gaya Minimalis Bersih --- */
        .api-card {
            /* Warna latar belakang dan efek bayangan lembut */
            background-color: #FFFFFF;
            border-radius: 12px; /* Sudut membulat */
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); /* Bayangan lembut */
            padding: 2.5rem;
            width: 90%;
            max-width: 550px;
            text-align: center;
            box-sizing: border-box;
            transition: transform 0.3s ease;
        }
        
        .api-card:hover {
            transform: translateY(-2px);
        }

        h1 {
            font-size: 1.8rem;
            font-weight: 700;
            margin-top: 0;
            margin-bottom: 0.5rem;
            color: #1e3a8a; /* Biru tua/navy yang modern */
        }

        .subtitle {
            font-size: 1rem;
            color: #6b7280;
            margin-bottom: 2rem;
        }

        /* --- 3. Tombol "Buat API Key" - Gaya Tombol Modern --- */
        .generate-btn {
            background-color: #1e3a8a; /* Biru utama */
            color: #FFFFFF;
            font-weight: 600;
            font-size: 1rem;
            padding: 1rem 1.5rem;
            width: 100%;
            cursor: pointer;
            
            /* Gaya modern */
            border: none;
            border-radius: 8px;
            transition: background-color 0.3s, transform 0.1s;
            margin-bottom: 1.5rem;
        }

        .generate-btn:hover {
            background-color: #1e40af; /* Sedikit lebih gelap saat hover */
        }
        
        .generate-btn:active {
            transform: scale(0.99); /* Efek klik lembut */
        }

        /* --- 4. Kotak Teks API Key & Tombol Salin --- */
        .key-container {
            display: flex; /* Menggunakan Flexbox untuk tata letak input dan tombol salin */
            width: 100%;
            gap: 10px;
        }

        .api-key-input {
            flex-grow: 1; /* Input mengambil sisa ruang */
            /* Tampilan Input Modern */
            background-color: #f0f4f8;
            border: 1px solid #d1d5db; 
            
            color: #4b5563; /* Teks abu-abu untuk kunci */
            font-family: 'Courier New', Courier, monospace; /* Tetap monospace untuk kunci */
            font-size: 0.9rem;
            padding: 1rem;
            box-sizing: border-box;
            
            border-radius: 8px; /* Sudut membulat */
            outline: none;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .api-key-input:focus {
            border-color: #1e3a8a;
            box-shadow: 0 0 0 3px rgba(30, 58, 138, 0.2);
        }

        .copy-btn {
            /* Gaya Tombol Salin Modern */
            background-color: #4b5563; /* Abu-abu tua */
            color: #FFFFFF;
            border: none;
            border-radius: 8px;
            padding: 0 1rem;
            font-size: 0.8rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .copy-btn:hover {
            background-color: #6b7280;
        }

        .copy-btn:active {
            transform: scale(0.98);
        }

        /* --- 5. Teks Umpan Balik & Info --- */
        .copy-feedback {
            font-size: 0.9rem;
            color: #059669; /* Hijau modern untuk pesan sukses */
            margin-top: 1rem;
            height: 1em;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .copy-feedback.visible {
            opacity: 1;
        }

        .info-text {
            font-size: 0.85rem;
            color: #9ca3af; /* Abu-abu terang untuk info */
            margin-top: 2rem;
            margin-bottom: 0;
            font-style: italic;
        }

        /* --- 6. Footer --- */
        footer {
            margin-top: 2rem;
            padding: 1rem;
            font-size: 0.8rem;
            color: #9ca3af;
            text-align: center;
        }
    </style>
</head>
<body>

    <main class="api-card">
        <h1>ðŸ”‘ API Key Generator</h1>
        <p class="subtitle">Buat dan salin kunci Anda. Dijamin aman dan unik.</p>

        <button id="generateBtn" class="generate-btn">GENERATE NEW KEY</button>

        <div class="key-container">
            <input type="text" id="apiKeyInput" class="api-key-input" value="" placeholder="Tekan GENERATE NEW KEY" readonly>
            <button id="copyBtn" class="copy-btn">SALIN</button>
        </div>

        <p id="copyFeedback" class="copy-feedback">SUCCESS: Kunci telah disalin ke clipboard.</p>

        <p class="info-text">Peringatan: Kunci dihasilkan di sisi klien (Web Crypto). Simpan di lokasi aman. Tidak dapat dikembalikan.</p>
    </main>

    <footer>
        &copy; 2025 Modern API Service
    </footer>

    <script>
        // --- 1. Pilih Elemen ---
        const generateBtn = document.getElementById('generateBtn');
        const copyBtn = document.getElementById('copyBtn');
        const apiKeyInput = document.getElementById('apiKeyInput');
        const copyFeedback = document.getElementById('copyFeedback');

        // --- 2. Fungsi untuk Membuat API Key (menggunakan Web Crypto) ---
        function generateApiKey() {
            // Buat 32 byte angka acak yang aman
            const buffer = new Uint8Array(32);
            window.crypto.getRandomValues(buffer);

            // Ubah byte menjadi string Base64 dan buat URL-safe
            const key = btoa(String.fromCharCode.apply(null, buffer))
                .replace(/\+/g, '-') 
                .replace(/\//g, '_') // Mengganti '/' dengan '_' (URL-safe)
                .replace(/=/g, '');  
            
            // Tambahkan prefix dan potong sesuai panjang yang diinginkan
            const finalKey = 'MH-' + key.substring(0, 45); // Panjang kunci disesuaikan sedikit

            apiKeyInput.value = finalKey;
            
            // Sembunyikan pesan copy saat kunci baru dibuat
            copyFeedback.classList.remove('visible');
            apiKeyInput.placeholder = finalKey; // Opsional: Tampilkan kunci sebagai placeholder juga
        }

        // --- 3. Fungsi untuk Menyalin ke Clipboard ---
        function copyToClipboard() {
            // Pastikan ada kunci untuk disalin
            if (!apiKeyInput.value) {
                copyFeedback.textContent = "ERROR: Belum ada kunci untuk disalin.";
                copyFeedback.style.color = "#dc2626"; // Warna merah untuk error
                copyFeedback.classList.add('visible');
                setTimeout(() => {
                    copyFeedback.classList.remove('visible');
                }, 2000);
                return;
            }
            
            // Salin teks menggunakan API Clipboard modern
            navigator.clipboard.writeText(apiKeyInput.value)
                .then(() => {
                    // Tampilkan pesan "berhasil disalin"
                    copyFeedback.textContent = "SUCCESS: Kunci telah disalin ke clipboard.";
                    copyFeedback.style.color = "#059669";
                    copyFeedback.classList.add('visible');

                    // Sembunyikan pesan setelah 2 detik
                    setTimeout(() => {
                        copyFeedback.classList.remove('visible');
                    }, 2000);
                })
                .catch(err => {
                    console.error('Gagal menyalin: ', err);
                });
        }

        // --- 4. Tambahkan Event Listener ke Tombol ---
        generateBtn.addEventListener('click', generateApiKey);
        copyBtn.addEventListener('click', copyToClipboard);

        // --- 5. Hasilkan kunci saat halaman pertama kali dimuat ---
        generateApiKey();

    </script>

</body>
</html>